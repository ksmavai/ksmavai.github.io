(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4012:function(e,t,a){Promise.resolve().then(a.bind(a,5971)),Promise.resolve().then(a.bind(a,1107)),Promise.resolve().then(a.bind(a,4274)),Promise.resolve().then(a.t.bind(a,9027,23)),Promise.resolve().then(a.t.bind(a,2445,23))},9672:function(e,t,a){"use strict";a.d(t,{P:function(){return c}});var s=a(7437),r=a(9295),n=a(8670),o=a(2235),l=a(1047),d=a(2891),i=a(9108);let c={new:e=>(0,s.jsx)(r.Z,{className:"text-muted-foreground",size:16,...e}),search:e=>(0,s.jsx)(n.Z,{className:"text-muted-foreground",size:14,...e}),close:e=>(0,s.jsx)(o.Z,{className:"text-muted-foreground",size:14,...e}),sun:e=>(0,s.jsx)(l.Z,{className:"text-muted-foreground",size:16,...e}),moon:e=>(0,s.jsx)(d.Z,{className:"text-muted-foreground",size:16,...e}),back:e=>(0,s.jsx)(i.Z,{className:"text-[#e2a727]",size:32,...e}),spinner:e=>(0,s.jsx)("svg",{className:"spinner",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:(0,s.jsx)("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})})}},302:function(e,t,a){"use strict";a.d(t,{h:function(){return r}});var s=a(2265);function r(){let[e,t]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=()=>{t(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}},5971:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eh}});var s=a(7437),r=a(2265),n=a(2869),o=a(7742),l=a(2235),d=a(1657);let i=n.zt,c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.l_,{ref:t,className:(0,d.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...r})});c.displayName=n.l_.displayName;let u=(0,o.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",custom:"bg-background dark:text-white"}},defaultVariants:{variant:"custom"}}),m=r.forwardRef((e,t)=>{let{className:a,variant:r,...o}=e;return(0,s.jsx)(n.fC,{ref:t,className:(0,d.cn)(u({variant:r}),a),...o})});m.displayName=n.fC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.aU,{ref:t,className:(0,d.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...r})}).displayName=n.aU.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.x8,{ref:t,className:(0,d.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...r,children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})});f.displayName=n.x8.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.Dx,{ref:t,className:(0,d.cn)("text-sm font-semibold",a),...r})});p.displayName=n.Dx.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.dk,{ref:t,className:(0,d.cn)("text-sm opacity-90",a),...r})});x.displayName=n.dk.displayName;var h=a(7788);function g(){let{toasts:e}=(0,h.pm)();return(0,s.jsxs)(i,{children:[e.map(function(e){let{id:t,title:a,description:r,action:n,...o}=e;return(0,s.jsxs)(m,{...o,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[a&&(0,s.jsx)(p,{children:a}),r&&(0,s.jsx)(x,{children:r})]}),n,(0,s.jsx)(f,{})]},t)}),(0,s.jsx)(c,{})]})}var b=a(7967);let w=r.forwardRef((e,t)=>{let{className:a,children:r,withVerticalMargins:n=!1,mobileHeaderHeight:o=!1,isMobile:l=!1,...i}=e;return(0,s.jsxs)(b.fC,{ref:t,className:(0,d.cn)("relative overflow-hidden",a),...i,children:[(0,s.jsx)(b.l_,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)(N,{withVerticalMargins:n,mobileHeaderHeight:o,isMobile:l}),(0,s.jsx)(b.Ns,{})]})});w.displayName=b.fC.displayName;let N=r.forwardRef((e,t)=>{let{className:a,orientation:r="vertical",withVerticalMargins:n=!1,mobileHeaderHeight:o=!1,isMobile:l=!1,...i}=e;return(0,s.jsx)(b.gb,{ref:t,orientation:r,className:(0,d.cn)("flex touch-none select-none transition-all duration-300","opacity-80 hover:opacity-100","bg-transparent hover:border-l hover:border-gray-200 dark:hover:border-gray-700","vertical"===r&&(0,d.cn)(l?"w-[8px]":"w-[10px] hover:w-[14px]",n&&o?"mt-24 mb-16":n?"my-16":""),"horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...i,children:(0,s.jsx)(b.q4,{className:(0,d.cn)("relative flex-1 rounded-full transition-colors duration-200","border-2 border-solid border-transparent bg-clip-padding","bg-gray-500 dark:bg-gray-400")})})});N.displayName=b.gb.displayName;var v=a(302),y=a(7907),j=a(2720),k=a(7401),S=a(8670),E=a(1293);let _=E.fC;E.xz;let C=E.h_;E.x8;let D=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(E.aV,{ref:t,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});D.displayName=E.aV.displayName;let R=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(C,{children:[(0,s.jsx)(D,{}),(0,s.jsxs)(E.VY,{ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-[#181818] bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n,children:[r,(0,s.jsxs)(E.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-gray-400",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});R.displayName=E.VY.displayName;let T=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(E.Dx,{ref:t,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});T.displayName=E.Dx.displayName;let I=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(E.dk,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a),...r})});I.displayName=E.dk.displayName;let P=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(k.mY,{ref:t,className:(0,d.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-background text-foreground",a),shouldFilter:!1,...r})});P.displayName=k.mY.displayName;let A=e=>{let{children:t,...a}=e;return(0,s.jsx)(_,{...a,children:(0,s.jsx)(R,{className:"overflow-hidden p-0 shadow-lg [&>button]:dark:text-white",children:(0,s.jsx)(P,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})})},M=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)("div",{className:"flex items-center px-3","cmdk-input-wrapper":"",children:[(0,s.jsx)(S.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50 text-muted-foreground"}),(0,s.jsx)(k.mY.Input,{ref:t,className:(0,d.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm dark:text-white outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...r})]})});M.displayName=k.mY.Input.displayName;let O=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(k.mY.List,{ref:t,className:(0,d.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...r})});O.displayName=k.mY.List.displayName;let Z=r.forwardRef((e,t)=>(0,s.jsx)(k.mY.Empty,{ref:t,className:"py-6 text-center text-sm text-muted-foreground",...e}));Z.displayName=k.mY.Empty.displayName;let L=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(k.mY.Group,{ref:t,className:(0,d.cn)("overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...r})});L.displayName=k.mY.Group.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(k.mY.Separator,{ref:t,className:(0,d.cn)("-mx-1 h-px bg-border",a),...r})}).displayName=k.mY.Separator.displayName;let z=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(k.mY.Item,{ref:t,className:(0,d.cn)("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm dark:text-white outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-muted data-[disabled=true]:opacity-50",a),...r})});z.displayName=k.mY.Item.displayName;let Y=e=>{let{className:t,...a}=e;return(0,s.jsx)("span",{className:(0,d.cn)("ml-auto text-xs tracking-widest text-muted-foreground",t),...a})};Y.displayName="CommandShortcut";var V=a(9295),U=a(8904),F=a(4314),H=a(6806),q=a(4848),K=a(2891),J=a(1047);let G=(0,r.forwardRef)((e,t)=>{let{notes:a,sessionId:n,addNewPinnedNote:o,navigateNotes:l,togglePinned:d,deleteNote:i,highlightedNote:c,setSelectedNoteSlug:u,isMobile:m}=e,[f,p]=(0,r.useState)(!1),[x,g]=(0,r.useState)(""),b=(0,y.useRouter)(),{setTheme:w,theme:N}=(0,q.F)();(0,r.useImperativeHandle)(t,()=>({setOpen:e=>{p(e)}})),(0,r.useEffect)(()=>{if(f){let e=setTimeout(()=>{let e=document.querySelector("[cmdk-input]");null==e||e.focus()},0);return()=>clearTimeout(e)}},[f]),(0,r.useEffect)(()=>{f||g("")},[f]),(0,r.useEffect)(()=>{let e=e=>{"k"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),p(e=>!e))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);let v=e=>{b.push("/notes/".concat(e)),p(!1)},k=(0,r.useCallback)(()=>{l("up"),p(!1)},[l]),S=(0,r.useCallback)(()=>{l("down"),p(!1)},[l]),E=(0,r.useCallback)(()=>{c&&(d(c.slug),p(!1))},[c,d]),_=(0,r.useCallback)(()=>{c&&(i(c),p(!1))},[c,i]),C=[{name:"New note (Disabled)",icon:(0,s.jsx)(V.Z,{className:"opacity-50"}),shortcut:"N",action:()=>{(0,h.Am)({description:"Note creation disabled in static mode"}),p(!1)}},{name:"Pin or unpin",icon:(0,s.jsx)(j.Z,{}),shortcut:"P",action:E},{name:"Move up",icon:(0,s.jsx)(U.Z,{}),shortcut:"K",action:k},{name:"Move down",icon:(0,s.jsx)(F.Z,{}),shortcut:"J",action:S},{name:"Delete note (Disabled)",icon:(0,s.jsx)(H.Z,{}),shortcut:"D",action:_},{name:"Toggle theme",icon:"light"===N?(0,s.jsx)(K.Z,{className:"h-4 w-4"}):(0,s.jsx)(J.Z,{className:"h-4 w-4"}),shortcut:"T",action:()=>{w("light"===N?"dark":"light"),p(!1)}}],D=function(e,t,a){let s=t.trim().toLowerCase();return e.filter(e=>{let t=e.public,r=e.session_id===a,n=e.title.toLowerCase().includes(s),o=e.content.toLowerCase().includes(s);return(t||r)&&(n||o)})}(a,x,n),R=C.filter(e=>e.name.toLowerCase().includes(x.toLowerCase()));return(0,s.jsxs)(A,{open:f,onOpenChange:p,children:[(0,s.jsx)(T,{className:"sr-only",children:"Command Menu"}),(0,s.jsx)(I,{className:"sr-only",children:"Use this dialog to execute commands or search for a note"}),(0,s.jsx)(M,{placeholder:"Type a command or search for a note...",value:x,onValueChange:g}),(0,s.jsxs)(O,{children:[(0,s.jsx)(Z,{children:"No results found"}),R.length>0&&(0,s.jsx)(L,{heading:"Commands",children:R.map(e=>(0,s.jsxs)(z,{onSelect:e.action,children:[e.icon,(0,s.jsx)("span",{className:"ml-2",children:e.name}),(0,s.jsx)(Y,{children:e.shortcut})]},e.name))}),D.length>0&&(0,s.jsx)(L,{heading:"Notes",children:D.map(e=>(0,s.jsxs)(z,{onSelect:()=>v(e.slug),children:[e.emoji," ",e.title.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())]},e.id))})]})]})});G.displayName="CommandMenu";var Q=a(8792),W=a(4522);function X(e){let{isOpen:t,onPin:a,isPinned:r}=e;return(0,s.jsx)("div",{className:"absolute right-0 top-0 h-full flex items-center transition-opacity duration-300 ".concat(t?"opacity-100":"opacity-0 pointer-events-none"),children:(0,s.jsx)("button",{onClick:a,className:"h-full w-12 flex items-center justify-center bg-blue-500 text-white hover:bg-blue-600 transition-colors","aria-label":r?"Unpin note":"Pin note",children:(0,s.jsx)(j.Z,{className:"w-4 h-4 ".concat(r?"fill-current":"")})})})}var B=a(7802),$=a(7805),ee=a(9259),et=a(7501);let ea=B.fC,es=B.xz;B.ZA,B.Uv,B.Tr,B.Ee,r.forwardRef((e,t)=>{let{className:a,inset:r,children:n,...o}=e;return(0,s.jsxs)(B.fF,{ref:t,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm bg-popover dark:bg-muted px-2 py-1.5 text-sm outline-none focus:bg-accent dark:focus:bg-background focus:text-accent-foreground data-[state=open]:bg-accent dark:data-[state=open]:bg-background data-[state=open]:text-accent-foreground",r&&"pl-8",a),...o,children:[n,(0,s.jsx)($.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=B.fF.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(B.tu,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover dark:bg-muted p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=B.tu.displayName;let er=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(B.Uv,{children:(0,s.jsx)(B.VY,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover dark:bg-muted p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})})});er.displayName=B.VY.displayName;let en=r.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(B.ck,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm bg-popover dark:bg-muted px-2 py-1.5 text-sm outline-none focus:bg-accent dark:focus:bg-background focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",a),...n})});en.displayName=B.ck.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,checked:n,...o}=e;return(0,s.jsxs)(B.oC,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm bg-popover dark:bg-muted py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent dark:focus:bg-background focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...o,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(B.wU,{children:(0,s.jsx)(ee.Z,{className:"h-4 w-4"})})}),r]})}).displayName=B.oC.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(B.Rk,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm bg-popover dark:bg-muted py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent dark:focus:bg-background focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(B.wU,{children:(0,s.jsx)(et.Z,{className:"h-4 w-4 fill-current"})})}),r]})}).displayName=B.Rk.displayName,r.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(B.__,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold text-foreground",r&&"pl-8",a),...n})}).displayName=B.__.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(B.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-border",a),...r})}).displayName=B.Z0.displayName;var eo=a(2656);let el=r.memo(function(e){let{item:t,selectedNoteSlug:a,sessionId:n,onNoteSelect:o,onNoteEdit:l,handlePinToggle:d,isPinned:i,isHighlighted:c,isSearching:u,handleNoteDelete:m,openSwipeItemSlug:f,setOpenSwipeItemSlug:p,showDivider:x=!1}=e,h=(0,v.h)(),[g,b]=(0,r.useState)(!1),w=f===t.slug,N=(0,r.useMemo)(()=>(0,eo.Vy)(t.category,t.id,t.created_at),[t.category,t.id,t.created_at]);(0,r.useEffect)(()=>{let e=e=>{g&&e.preventDefault()};return document.addEventListener("touchmove",e,{passive:!1}),()=>{document.removeEventListener("touchmove",e)}},[g]);let y=async()=>{p(null),await m(t)},j=()=>{p(null),l(t.slug)},k=()=>{d(t.slug),p(null)},S=t.session_id===n,E=e=>{w&&e()},_=!h&&u&&c||!u&&t.slug===a,C=(0,s.jsx)("li",{tabIndex:0,className:"h-[70px] w-full ".concat(_?"bg-[#FFE390] dark:bg-[#9D7D28] dark:text-white rounded-md":""," ").concat(h||!x||(u?c:t.slug===a)?"":'after:content-[""] after:block after:mx-2 after:border-t after:border-muted-foreground/20'),children:(0,s.jsx)("div",{"data-note-slug":t.slug,className:"h-full w-full px-4",children:(0,s.jsxs)(Q.default,{href:"/notes/".concat(t.slug||""),prefetch:!0,tabIndex:-1,className:"block py-2 h-full w-full flex flex-col justify-center",children:[(0,s.jsxs)("h2",{className:"text-sm font-bold px-2 break-words line-clamp-1",children:[t.emoji," ",t.title]}),(0,s.jsxs)("p",{className:"text-xs pl-2 break-words line-clamp-1 ".concat(_?"text-muted-foreground dark:text-white/80":"text-muted-foreground"),children:[(0,s.jsx)("span",{className:"text-black dark:text-white",children:N.toLocaleDateString("en-US")})," ",t.content.replace(/!\[[^\]]*\]\([^\)]+\)/g,"").replace(/\[([^\]]+)\]\([^\)]+\)/g,"$1").replace(/\[[ x]\]/g,"").replace(/[#*_~`>+\-]/g,"").replace(/\n+/g," ").replace(/\s+/g," ").trim()]})]})})}),D=(0,W.QS)({onSwipeStart:()=>b(!0),onSwiped:()=>b(!1),onSwipedLeft:()=>{p(t.slug),b(!1)},onSwipedRight:()=>{p(null),b(!1)},trackMouse:!0});return h?(0,s.jsxs)("div",{...D,className:"relative overflow-hidden",children:[(0,s.jsx)("div",{"data-note-slug":t.slug,className:"transition-transform duration-300 ease-out w-full ".concat(w?"transform -translate-x-12":""," ").concat(x?'after:content-[""] after:block after:mx-6 after:border-t after:border-muted-foreground/20':""),children:C}),(0,s.jsx)(X,{isOpen:w,onPin:()=>E(k),onEdit:()=>E(j),onDelete:()=>E(y),isPinned:i,canEditOrDelete:S})]}):(0,s.jsxs)(ea,{children:[(0,s.jsx)(es,{children:C}),(0,s.jsx)(er,{children:(0,s.jsx)(en,{onClick:k,className:"cursor-pointer",children:i?"Unpin":"Pin"})})]})});function ed(e){let{groupedNotes:t,selectedNoteSlug:a,onNoteSelect:r,sessionId:n,handlePinToggle:o,pinnedNotes:l,localSearchResults:d,highlightedIndex:i,categoryOrder:c,labels:u,handleNoteDelete:m,openSwipeItemSlug:f,setOpenSwipeItemSlug:p}=e;return null!==d&&d?(0,s.jsx)("ul",{className:"w-full",children:d.map((e,t)=>(0,s.jsx)(el,{item:e,selectedNoteSlug:a,sessionId:n,onNoteSelect:r,onNoteEdit:()=>{},handlePinToggle:o,isPinned:l.has(e.slug),isHighlighted:t===i,isSearching:!0,handleNoteDelete:m,openSwipeItemSlug:f,setOpenSwipeItemSlug:p,showDivider:t<d.length-1},e.slug))}):(0,s.jsx)("div",{className:"w-full",children:c.map(e=>{let d=t[e];return d&&0!==d.length?(0,s.jsxs)("div",{className:"mb-0",children:[(0,s.jsx)("h3",{className:"text-xs font-semibold text-muted-foreground px-4 pb-1 pt-1 flex items-center",children:u[e]}),(0,s.jsx)("ul",{children:d.map((e,t)=>(0,s.jsx)(el,{item:e,selectedNoteSlug:a,sessionId:n,onNoteSelect:r,onNoteEdit:()=>{},handlePinToggle:o,isPinned:l.has(e.slug),isHighlighted:!1,isSearching:!1,handleNoteDelete:m,openSwipeItemSlug:f,setOpenSwipeItemSlug:p,showDivider:t<d.length-1},e.slug))})]},e):null})})}var ei=a(9672);function ec(e){let{notes:t,onSearchResults:a,sessionId:n,inputRef:o,searchQuery:l,setSearchQuery:d,setHighlightedIndex:i,clearSearch:c}=e;(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&document.activeElement!==o.current&&l&&c()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[o,l,c]);let u=e=>{if(d(e),""===e.trim()){c();return}a(t.filter(t=>(t.public||t.session_id===n)&&(t.title.toLowerCase().includes(e.trim().toLowerCase())||t.content.toLowerCase().includes(e.trim().toLowerCase())))),i(0)};return(0,s.jsx)("div",{className:"p-2",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,s.jsx)(ei.P.search,{className:"text-muted-foreground"})}),(0,s.jsx)("input",{id:"search",type:"text",value:l,onChange:e=>u(e.target.value),placeholder:"Search",className:"w-full pl-8 pr-8 py-0.5 rounded-lg text-base sm:text-sm placeholder:text-sm focus:outline-none border border-muted-foreground/20 dark:border-none dark:bg-[#353533]","aria-label":"Search notes",autoComplete:"off",ref:o}),l&&(0,s.jsx)("button",{onClick:c,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground","aria-label":"Clear search",children:(0,s.jsx)(ei.P.close,{className:"h-4 w-4 text-muted-foreground"})})]})})}function eu(e){let{addNewPinnedNote:t,clearSearch:a,setSelectedNoteSlug:r,isMobile:n}=e;return(0,s.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,s.jsx)("button",{onClick:()=>{(0,h.Am)({description:"Public note creation is disabled on this static site."})},"aria-label":"Create new note",className:"p-3 hover:bg-muted-foreground/10 rounded-lg opacity-50 cursor-not-allowed ".concat(n?"p-3":""),children:(0,s.jsx)(ei.P.new,{className:"h-5 w-5"})})})}function em(e){let{addNewPinnedNote:t,clearSearch:a,setSelectedNoteSlug:n,isMobile:o,isScrolled:l}=e,{theme:d,setTheme:i}=(0,q.F)(),[c,u]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{u(!0)},[]),(0,s.jsxs)("div",{className:"px-4 py-2 flex items-center justify-between skeu-header ".concat(l&&"border-b shadow-[0_2px_4px_-1px_rgba(0,0,0,0.15)]"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5 p-2",children:[(0,s.jsx)("button",{onClick:()=>window.close(),className:"cursor-pointer group w-3 h-3 rounded-full bg-red-500 hover:opacity-80 flex items-center justify-center","aria-label":"Close tab",children:(0,s.jsx)("span",{className:"opacity-0 group-hover:opacity-100 text-[10px] font-medium leading-none text-background -translate-y-[0.5px]",children:"\xd7"})}),(0,s.jsx)("button",{className:"group w-3 h-3 rounded-full bg-yellow-500 hover:opacity-80 flex items-center justify-center cursor-default",children:(0,s.jsx)("span",{className:"opacity-0 group-hover:opacity-100 text-[10px] font-medium leading-none text-background -translate-y-[0.5px]",children:"âˆ’"})}),(0,s.jsx)("button",{className:"group w-3 h-3 rounded-full bg-green-500 hover:opacity-80 flex items-center justify-center cursor-default",children:(0,s.jsx)("span",{className:"opacity-0 group-hover:opacity-100 text-[10px] font-medium leading-none text-background -translate-y-[0.5px]",children:"+"})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("button",{onClick:()=>i("dark"===d?"light":"dark"),className:"p-3 hover:bg-muted-foreground/10 rounded-lg transition-colors","aria-label":"Toggle dark mode",children:c?"dark"===d?(0,s.jsx)(J.Z,{className:"h-5 w-5 text-muted-foreground"}):(0,s.jsx)(K.Z,{className:"h-5 w-5 text-muted-foreground"}):(0,s.jsx)("div",{className:"h-5 w-5"})}),(0,s.jsx)(eu,{addNewPinnedNote:t,clearSearch:a,setSelectedNoteSlug:n,isMobile:o})]})]})}let ef={pinned:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.Z,{className:"inline-block w-4 h-4 mr-1"})," Pinned"]}),today:"Today",yesterday:"Yesterday",7:"Previous 7 Days",30:"Previous 30 Days",older:"Older"},ep=["pinned","today","yesterday","7","30","older"];function ex(e){let{notes:t,onNoteSelect:a,isMobile:n}=e,o=(0,y.useRouter)(),[l,d]=(0,r.useState)(!1),[i,c]=(0,r.useState)(null),[u,m]=(0,r.useState)(new Set),f=(0,y.usePathname)(),p=(0,r.useRef)(null),[x,g]=(0,r.useState)(null),[b,N]=(0,r.useState)(0),[v,j]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),[E,_]=(0,r.useState)(null),[C,D]=(0,r.useState)(""),R=(0,r.useRef)(null),T=(0,r.useRef)(null),I=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(i&&I.current){let e=I.current.querySelector('[data-note-slug="'.concat(i,'"]'));e&&e.scrollIntoView({behavior:"smooth",block:"nearest"})}},[i]),(0,r.useEffect)(()=>{T.current&&T.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[i,b]);let P=(0,r.useMemo)(()=>[...t],[t]),A="static";(0,r.useEffect)(()=>{f&&c(f.split("/").pop()||null)},[f]),(0,r.useEffect)(()=>{i?j(P.find(e=>e.slug===i)||null):j(null)},[i,P]),(0,r.useEffect)(()=>{let e=localStorage.getItem("pinnedNotes");if(e)m(new Set(JSON.parse(e)));else{let e=new Set(P.filter(e=>"about-me"===e.slug||"quick-links"===e.slug).map(e=>e.slug));m(e),localStorage.setItem("pinnedNotes",JSON.stringify(Array.from(e)))}},[P]);let M=(0,r.useMemo)(()=>{let e=(0,eo.y3)(P,u);return(0,eo.YJ)(e),e},[P,u]);(0,r.useEffect)(()=>{x&&x.length>0?_(x[b]):_(v)},[x,b,v]);let O=(0,r.useCallback)(()=>{g(null),D(""),N(0),p.current&&(p.current.value="")},[g,N]),Z=(0,r.useCallback)(()=>ep.flatMap(e=>M[e]?M[e]:[]),[M]),L=(0,r.useCallback)(e=>{if(!x){let t;let a=Z(),s=a.findIndex(e=>e.slug===i);t="up"===e?s>0?s-1:a.length-1:s<a.length-1?s+1:0;let r=a[t];r&&(o.push("/notes/".concat(r.slug)),setTimeout(()=>{let e=document.querySelector('[data-note-slug="'.concat(r.slug,'"]'));e&&e.scrollIntoView({behavior:"smooth",block:"nearest"})},100))}},[Z,i,o,x]),z=(0,r.useCallback)(e=>{let t=!1;m(a=>{let s=new Set(a);return(t=!s.has(e))?s.add(e):s.delete(e),localStorage.setItem("pinnedNotes",JSON.stringify(Array.from(s))),s}),O(),n||o.push("/notes/".concat(e)),(0,h.Am)({description:t?"Note pinned":"Note unpinned"})},[o,n,O]),Y=(0,r.useCallback)(async e=>{(0,h.Am)({description:"Cannot delete static notes. Please remove the file from the repository.",variant:"destructive"})},[n,O,o]),V=(0,r.useCallback)(()=>{if(x&&x[b]){let e=x[b];o.push("/notes/".concat(e.slug)),setTimeout(()=>{let t=document.querySelector('[data-note-slug="'.concat(e.slug,'"]'));null==t||t.scrollIntoView({behavior:"smooth",block:"nearest"})},0),O()}},[x,b,o,O]),{setTheme:U,theme:F}=(0,q.F)();(0,r.useEffect)(()=>{let e={j:()=>L("down"),ArrowDown:()=>L("down"),k:()=>L("up"),ArrowUp:()=>L("up"),p:()=>E&&z(E.slug),d:()=>E&&Y(E),"/":()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.focus()},Escape:()=>{var e;return null===(e=document.activeElement)||void 0===e?void 0:e.blur()},t:()=>U("dark"===F?"light":"dark")},t=t=>{var a,s;let r=t.target;if(["INPUT","TEXTAREA","SELECT"].includes(r.tagName)||r.isContentEditable){"Escape"===t.key?e.Escape():"Enter"===t.key&&x&&x.length>0&&(t.preventDefault(),V());return}let n=t.key;if(e[n]&&!(t.metaKey||t.ctrlKey)){if(t.preventDefault(),null===(a=document.activeElement)||void 0===a||a.blur(),x&&["j","ArrowDown","k","ArrowUp"].includes(n)){let e=["j","ArrowDown"].includes(n)?1:-1;N(t=>(t+e+x.length)%x.length)}else e[n]()}else"k"===t.key&&(t.metaKey||t.ctrlKey)?(t.preventDefault(),null===(s=R.current)||void 0===s||s.setOpen(!0)):"Enter"===t.key&&x&&x.length>0&&(t.preventDefault(),V())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[L,E,z,x,N,Y,R,V,U,F]);let H=(0,r.useCallback)(e=>{a(e),n||o.push("/notes/".concat(e.slug)),O()},[O,a,n,o]);return(0,s.jsxs)("div",{className:"".concat(n?"w-full max-w-full":"w-[320px] border-r border-muted-foreground/20"," h-dvh flex flex-col dark:bg-muted"),children:[(0,s.jsx)("div",{className:"".concat(n?"w-full":"w-[320px]"),children:(0,s.jsx)(em,{addNewPinnedNote:z,clearSearch:O,setSelectedNoteSlug:c,isMobile:n,isScrolled:l})}),(0,s.jsx)(w,{className:"flex-1",onScrollCapture:e=>{let t=e.currentTarget.querySelector("[data-radix-scroll-area-viewport]");t&&d(t.scrollTop>0)},isMobile:n,children:(0,s.jsxs)("div",{ref:I,className:"flex flex-col w-full",children:[(0,s.jsx)(G,{notes:P,sessionId:A,addNewPinnedNote:z,navigateNotes:L,togglePinned:z,deleteNote:Y,highlightedNote:E,setSelectedNoteSlug:c,isMobile:n}),(0,s.jsxs)("div",{className:"".concat(n?"w-full":"w-[320px]"," px-2"),children:[(0,s.jsx)(ec,{notes:P,onSearchResults:g,sessionId:A,inputRef:p,searchQuery:C,setSearchQuery:D,setHighlightedIndex:N,clearSearch:O}),(0,s.jsx)(ed,{groupedNotes:M,selectedNoteSlug:i,onNoteSelect:H,sessionId:A,handlePinToggle:z,pinnedNotes:u,localSearchResults:x,highlightedIndex:b,categoryOrder:ep,labels:ef,handleNoteDelete:Y,openSwipeItemSlug:k,setOpenSwipeItemSlug:S,clearSearch:O,setSelectedNoteSlug:c})]})]})})]})}function eh(e){let{children:t,notes:a}=e,n=(0,v.h)(),o=null!==n&&n,l=(0,y.useRouter)(),d=(0,y.usePathname)();(0,r.useEffect)(()=>{null===n||n||"/notes"!==d||l.push("/notes/about-me")},[n,l,d]);let i=!o||"/notes"===d;return(0,s.jsxs)("div",{className:"dark:text-white h-dvh flex",children:[i&&(0,s.jsx)(ex,{notes:a,onNoteSelect:o?e=>{l.push("/notes/".concat(e.slug))}:()=>{},isMobile:o}),(!o||!i)&&(0,s.jsx)("div",{className:"flex-grow h-dvh",children:(0,s.jsx)(w,{className:"h-full",isMobile:o,children:t})}),(0,s.jsx)(g,{})]})}},1107:function(e,t,a){"use strict";a.r(t),a.d(t,{ThemeProvider:function(){return n}});var s=a(7437);a(2265);var r=a(4848);function n(e){let{children:t,...a}=e;return(0,s.jsx)(r.f,{...a,children:t})}},7788:function(e,t,a){"use strict";a.d(t,{Am:function(){return u},pm:function(){return m}});var s=a(2265);let r=0,n=new Map,o=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?o(a):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],i={toasts:[]};function c(e){i=l(i,e),d.forEach(e=>{e(i)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(i);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},2656:function(e,t,a){"use strict";function s(e,t){let a={pinned:[]};return e.forEach(e=>{if(t.has(e.slug)){a.pinned.push(e);return}let s=e.category||"older";a[s]||(a[s]=[]),a[s].push(e)}),a}function r(e){Object.keys(e).forEach(t=>{e[t].sort((e,t)=>{let a=l(e.category,e.id,e.created_at);return l(t.category,t.id,t.created_at).getTime()-a.getTime()})})}function n(e){let t=0;for(let a=0;a<e.length;a++)t=(t<<5)-t+e.charCodeAt(a)|0;return Math.abs(t)}function o(e){let t=1e4*Math.sin(e);return t-Math.floor(t)}function l(e,t,a){let s;let r=new Date;if("pinned"===e&&a)return new Date(a.replace("Z",""));let l=12,d=0;if(a){let e=new Date(a.replace("Z",""));l=e.getHours(),d=e.getMinutes()}switch(e){case"today":default:s=new Date(r);break;case"yesterday":(s=new Date(r)).setDate(s.getDate()-1);break;case"7":let i=Math.floor(6*o(n(t+"7days")))+2;(s=new Date(r)).setDate(s.getDate()-i);break;case"30":let c=Math.floor(23*o(n(t+"30days")))+8;(s=new Date(r)).setDate(s.getDate()-c);break;case"older":let u=Math.floor(335*o(n(t+"older")))+31;(s=new Date(r)).setDate(s.getDate()-u)}return s.setHours(l,d,0,0),s}a.d(t,{Vy:function(){return l},YJ:function(){return r},y3:function(){return s}})},1657:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var s=a(3167),r=a(1367);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}},2445:function(){}},function(e){e.O(0,[250,563,644,971,69,744],function(){return e(e.s=4012)}),_N_E=e.O()}]);